{
  "address": "0x0d00ebb7b7403bc87a113a6d44aa55882ce31438",
  "settings": {
    "optimizer": {
      "enabled": false,
      "runs": 200
    },
    "evmVersion": "byzantium"
  },
  "version": "0.4.25+commit.59dbf8f1",
  "name": "AddressLinker",
  "imports": [
    {
      "name": "AddressLinker.sol",
      "contents": "pragma solidity ^0.4.24;\n\nimport \"../util/AddressHelper.sol\";\nimport \"../third-party/openzeppelin/math/SafeMath.sol\";\n\nlibrary AddressLinker   {\n    using SafeMath for uint256;\n    using SafeMath for uint;\n\n    uint constant BITCOIN  = 0;\n    uint constant ETHEREUM = 1;\n\n    function acceptLinkedRskAddress(\n        address buyerAddress, uint chainId,\n        string redeemAddressAsString, uint8 sig_v,\n        bytes32 sig_r, bytes32 sig_s) public pure returns (bool) {\n\n        // Verify signatures\n        bytes32 hash;\n\n        if (chainId == BITCOIN) {\n            hash = sha256(abi.encodePacked(sha256(abi.encodePacked(\"\\x18Bitcoin Signed Message:\\n\\x2a\", redeemAddressAsString))));\n        } else {\n            hash = keccak256(abi.encodePacked(\"\\x19Ethereum Signed Message:\\n42\", redeemAddressAsString));\n        }\n\n        address recoveredAddress = AddressHelper.recoverAddress(hash, sig_v, sig_r, sig_s);\n\n        return recoveredAddress == address(buyerAddress);\n    }\n\n    function acceptDelegate(\n        address buyerAddress, uint chainId,\n        uint8 sig_v,\n        bytes32 sig_r, bytes32 sig_s) public pure returns (bool) {\n\n        // Verify signatures\n        bytes32 hash;\n\n        if (chainId==BITCOIN) {\n            hash = sha256(abi.encodePacked(sha256(abi.encodePacked(\"\\x18Bitcoin Signed Message:\\n\\x0a\",\"DELEGATION\"))));\n        } else {\n            hash = keccak256(abi.encodePacked(\"\\x19Ethereum Signed Message:\\n10\",\"DELEGATION\"));\n        }\n\n        address recoveredAddress = AddressHelper.recoverAddress(hash,sig_v,sig_r,sig_s);\n\n        return recoveredAddress == address(buyerAddress);\n    }\n}\n"
    },
    {
      "name": "AddressHelper.sol",
      "contents": "pragma solidity ^0.4.24;\n\nlibrary AddressHelper {\n    function recoverAddress(bytes32 hash, uint8 v, bytes32 r, bytes32 s) public pure\n        returns (address) {\n        // Version of signature should be 27 or 28, but 0 and 1 are also possible versions\n        uint8 vv = v;\n        if (vv < 27) {\n            vv += 27;\n        }\n\n        // If the version is correct return the signer address\n        if (vv != 27 && vv != 28) {\n            return (address(0));\n        } else {\n            return ecrecover(hash, vv, r, s);\n        }\n\n    }\n\n    function char(byte b) public pure returns (byte c) {\n        if (b < 10) return byte(uint8(b) + 0x30);\n        else return byte(uint8(b) + 0x57);\n    }\n\n    function getHashedPublicKey(\n        bytes32 _xPoint,\n        bytes32 _yPoint)\n        pure public\n        returns(\n            bytes20 hashedPubKey)\n    {\n        byte startingByte = 0x04;\n        return ripemd160(abi.encodePacked(sha256(abi.encodePacked(startingByte, _xPoint, _yPoint))));\n    }\n\n    function fromHexChar(uint c) public pure returns (uint) {\n        if (c >= uint(byte('0')) && c <= uint(byte('9'))) {\n            return c - uint(byte('0'));\n        }\n\n        if (c >= uint(byte('a')) && c <= uint(byte('f'))) {\n            return 10 + c - uint(byte('a'));\n        }\n\n        if (c >= uint(byte('A')) && c <= uint(byte('F'))) {\n            return 10 + c - uint(byte('A'));\n        }\n\n        // Reaching this point means the ordinal is not for a hex char.\n        revert();\n    }\n\n    function fromAsciiString(string s) public pure returns(address) {\n        bytes memory ss = bytes(s);\n\n        // it should have 40 or 42 characters\n        if (ss.length != 40 && ss.length != 42) revert();\n\n        uint r = 0;\n        uint offset = 0;\n\n        if (ss.length == 42) {\n            offset = 2;\n\n            if (ss[0] != byte('0')) revert();\n            if (ss[1] != byte('x') && ss[1] != byte('X')) revert();\n        }\n\n        uint i;\n        uint x;\n        uint v;\n\n        // loads first 32 bytes from array,\n        // skipping array length (32 bytes to skip)\n        // offset == 0x20\n        assembly { v := mload(add(0x20, ss)) }\n\n        // converts the first 32 bytes, adding to result\n        for (i = offset; i < 32; ++i) {\n            assembly { x := byte(i, v) }\n            r = r * 16 + fromHexChar(x);\n        }\n\n        // loads second 32 bytes from array,\n        // skipping array length (32 bytes to skip)\n        // and first 32 bytes\n        // offset == 0x40\n        assembly { v := mload(add(0x40, ss)) }\n\n        // converts the last 8 bytes, adding to result\n        for (i = 0; i < 8 + offset; ++i) {\n            assembly { x := byte(i, v) }\n            r = r * 16 + fromHexChar(x);\n        }\n\n        return address(r);\n    }\n}\n"
    },
    {
      "name": "SafeMath.sol",
      "contents": "pragma solidity ^0.4.24;\n\n\n/**\n * @title SafeMath\n * @dev Math operations with safety checks that throw on error\n */\nlibrary SafeMath {\n\n  /**\n  * @dev Multiplies two numbers, throws on overflow.\n  */\n  function mul(uint256 _a, uint256 _b) internal pure returns (uint256 c) {\n    // Gas optimization: this is cheaper than asserting 'a' not being zero, but the\n    // benefit is lost if 'b' is also tested.\n    // See: https://github.com/OpenZeppelin/openzeppelin-solidity/pull/522\n    if (_a == 0) {\n      return 0;\n    }\n\n    c = _a * _b;\n    assert(c / _a == _b);\n    return c;\n  }\n\n  /**\n  * @dev Integer division of two numbers, truncating the quotient.\n  */\n  function div(uint256 _a, uint256 _b) internal pure returns (uint256) {\n    // assert(_b > 0); // Solidity automatically throws when dividing by 0\n    // uint256 c = _a / _b;\n    // assert(_a == _b * c + _a % _b); // There is no case in which this doesn't hold\n    return _a / _b;\n  }\n\n  /**\n  * @dev Subtracts two numbers, throws on overflow (i.e. if subtrahend is greater than minuend).\n  */\n  function sub(uint256 _a, uint256 _b) internal pure returns (uint256) {\n    assert(_b <= _a);\n    return _a - _b;\n  }\n\n  /**\n  * @dev Adds two numbers, throws on overflow.\n  */\n  function add(uint256 _a, uint256 _b) internal pure returns (uint256 c) {\n    c = _a + _b;\n    assert(c >= _a);\n    return c;\n  }\n}\n"
    }
  ],
  "source": "pragma solidity ^0.4.24;\n\nimport \"../util/AddressHelper.sol\";\nimport \"../third-party/openzeppelin/math/SafeMath.sol\";\n\nlibrary AddressLinker   {\n    using SafeMath for uint256;\n    using SafeMath for uint;\n\n    uint constant BITCOIN  = 0;\n    uint constant ETHEREUM = 1;\n\n    function acceptLinkedRskAddress(\n        address buyerAddress, uint chainId,\n        string redeemAddressAsString, uint8 sig_v,\n        bytes32 sig_r, bytes32 sig_s) public pure returns (bool) {\n\n        // Verify signatures\n        bytes32 hash;\n\n        if (chainId == BITCOIN) {\n            hash = sha256(abi.encodePacked(sha256(abi.encodePacked(\"\\x18Bitcoin Signed Message:\\n\\x2a\", redeemAddressAsString))));\n        } else {\n            hash = keccak256(abi.encodePacked(\"\\x19Ethereum Signed Message:\\n42\", redeemAddressAsString));\n        }\n\n        address recoveredAddress = AddressHelper.recoverAddress(hash, sig_v, sig_r, sig_s);\n\n        return recoveredAddress == address(buyerAddress);\n    }\n\n    function acceptDelegate(\n        address buyerAddress, uint chainId,\n        uint8 sig_v,\n        bytes32 sig_r, bytes32 sig_s) public pure returns (bool) {\n\n        // Verify signatures\n        bytes32 hash;\n\n        if (chainId==BITCOIN) {\n            hash = sha256(abi.encodePacked(sha256(abi.encodePacked(\"\\x18Bitcoin Signed Message:\\n\\x0a\",\"DELEGATION\"))));\n        } else {\n            hash = keccak256(abi.encodePacked(\"\\x19Ethereum Signed Message:\\n10\",\"DELEGATION\"));\n        }\n\n        address recoveredAddress = AddressHelper.recoverAddress(hash,sig_v,sig_r,sig_s);\n\n        return recoveredAddress == address(buyerAddress);\n    }\n}\n",
  "libraries": {
    "AddressHelper": "0xca29fd2e878fc7845e7248ff8f27077c932918f0"
  },
  "bytecode": "0x6109cd610030600b82828239805160001a6073146000811461002057610022565bfe5b5030600052607381538281f3007300000000000000000000000000000000000000003014608060405260043610610063576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063ab642e2d14610068578063e5d3a0f2146100e9575b600080fd5b6100cf600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190803560ff169060200190929190803560001916906020019092919080356000191690602001909291905050506101b0565b604051808215151515815260200191505060405180910390f35b610196600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803560ff1690602001909291908035600019169060200190929190803560001916906020019092919050505061057b565b604051808215151515815260200191505060405180910390f35b6000806000808714156103945760028060405160200180807f18426974636f696e205369676e6564204d6573736167653a0a0a000000000000815250601a01807f44454c45474154494f4e00000000000000000000000000000000000000000000815250600a0190506040516020818303038152906040526040518082805190602001908083835b60208310151561025d5780518252602082019150602081019050602083039250610238565b6001836020036101000a0380198251168184511680821785525050505050509050019150506020604051808303816000865af11580156102a1573d6000803e3d6000fd5b5050506040513d60208110156102b657600080fd5b81019080805190602001909291905050506040516020018082600019166000191681526020019150506040516020818303038152906040526040518082805190602001908083835b60208310151561032357805182526020820191506020810190506020830392506102fe565b6001836020036101000a0380198251168184511680821785525050505050509050019150506020604051808303816000865af1158015610367573d6000803e3d6000fd5b5050506040513d602081101561037c57600080fd5b81019080805190602001909291905050509150610461565b60405160200180807f19457468657265756d205369676e6564204d6573736167653a0a313000000000815250601c01807f44454c45474154494f4e00000000000000000000000000000000000000000000815250600a0190506040516020818303038152906040526040518082805190602001908083835b602083101515610431578051825260208201915060208101905060208303925061040c565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902091505b73ca29fd2e878fc7845e7248ff8f27077c932918f0638428cf83838888886040518563ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018085600019166000191681526020018460ff1660ff1681526020018360001916600019168152602001826000191660001916815260200194505050505060206040518083038186803b15801561050257600080fd5b505af4158015610516573d6000803e3d6000fd5b505050506040513d602081101561052c57600080fd5b810190808051906020019092919050505090508773ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16149250505095945050505050565b60008060008088141561078c576002808860405160200180807f18426974636f696e205369676e6564204d6573736167653a0a2a000000000000815250601a0182805190602001908083835b6020831015156105ec57805182526020820191506020810190506020830392506105c7565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b6020831015156106555780518252602082019150602081019050602083039250610630565b6001836020036101000a0380198251168184511680821785525050505050509050019150506020604051808303816000865af1158015610699573d6000803e3d6000fd5b5050506040513d60208110156106ae57600080fd5b81019080805190602001909291905050506040516020018082600019166000191681526020019150506040516020818303038152906040526040518082805190602001908083835b60208310151561071b57805182526020820191506020810190506020830392506106f6565b6001836020036101000a0380198251168184511680821785525050505050509050019150506020604051808303816000865af115801561075f573d6000803e3d6000fd5b5050506040513d602081101561077457600080fd5b81019080805190602001909291905050509150610886565b8660405160200180807f19457468657265756d205369676e6564204d6573736167653a0a343200000000815250601c0182805190602001908083835b6020831015156107ed57805182526020820191506020810190506020830392506107c8565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b6020831015156108565780518252602082019150602081019050602083039250610831565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902091505b73ca29fd2e878fc7845e7248ff8f27077c932918f0638428cf83838888886040518563ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018085600019166000191681526020018460ff1660ff1681526020018360001916600019168152602001826000191660001916815260200194505050505060206040518083038186803b15801561092757600080fd5b505af415801561093b573d6000803e3d6000fd5b505050506040513d602081101561095157600080fd5b810190808051906020019092919050505090508873ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16149250505096955050505050505600a165627a7a72305820c29328b53b3d05676051857320759cc1a935d257198152b6a73f5182937fd8a00029",
  "deployedBytecode": "0x730d00ebb7b7403bc87a113a6d44aa55882ce314383014608060405260043610610063576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063ab642e2d14610068578063e5d3a0f2146100e9575b600080fd5b6100cf600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190803560ff169060200190929190803560001916906020019092919080356000191690602001909291905050506101b0565b604051808215151515815260200191505060405180910390f35b610196600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803560ff1690602001909291908035600019169060200190929190803560001916906020019092919050505061057b565b604051808215151515815260200191505060405180910390f35b6000806000808714156103945760028060405160200180807f18426974636f696e205369676e6564204d6573736167653a0a0a000000000000815250601a01807f44454c45474154494f4e00000000000000000000000000000000000000000000815250600a0190506040516020818303038152906040526040518082805190602001908083835b60208310151561025d5780518252602082019150602081019050602083039250610238565b6001836020036101000a0380198251168184511680821785525050505050509050019150506020604051808303816000865af11580156102a1573d6000803e3d6000fd5b5050506040513d60208110156102b657600080fd5b81019080805190602001909291905050506040516020018082600019166000191681526020019150506040516020818303038152906040526040518082805190602001908083835b60208310151561032357805182526020820191506020810190506020830392506102fe565b6001836020036101000a0380198251168184511680821785525050505050509050019150506020604051808303816000865af1158015610367573d6000803e3d6000fd5b5050506040513d602081101561037c57600080fd5b81019080805190602001909291905050509150610461565b60405160200180807f19457468657265756d205369676e6564204d6573736167653a0a313000000000815250601c01807f44454c45474154494f4e00000000000000000000000000000000000000000000815250600a0190506040516020818303038152906040526040518082805190602001908083835b602083101515610431578051825260208201915060208101905060208303925061040c565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902091505b73ca29fd2e878fc7845e7248ff8f27077c932918f0638428cf83838888886040518563ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018085600019166000191681526020018460ff1660ff1681526020018360001916600019168152602001826000191660001916815260200194505050505060206040518083038186803b15801561050257600080fd5b505af4158015610516573d6000803e3d6000fd5b505050506040513d602081101561052c57600080fd5b810190808051906020019092919050505090508773ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16149250505095945050505050565b60008060008088141561078c576002808860405160200180807f18426974636f696e205369676e6564204d6573736167653a0a2a000000000000815250601a0182805190602001908083835b6020831015156105ec57805182526020820191506020810190506020830392506105c7565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b6020831015156106555780518252602082019150602081019050602083039250610630565b6001836020036101000a0380198251168184511680821785525050505050509050019150506020604051808303816000865af1158015610699573d6000803e3d6000fd5b5050506040513d60208110156106ae57600080fd5b81019080805190602001909291905050506040516020018082600019166000191681526020019150506040516020818303038152906040526040518082805190602001908083835b60208310151561071b57805182526020820191506020810190506020830392506106f6565b6001836020036101000a0380198251168184511680821785525050505050509050019150506020604051808303816000865af115801561075f573d6000803e3d6000fd5b5050506040513d602081101561077457600080fd5b81019080805190602001909291905050509150610886565b8660405160200180807f19457468657265756d205369676e6564204d6573736167653a0a343200000000815250601c0182805190602001908083835b6020831015156107ed57805182526020820191506020810190506020830392506107c8565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b6020831015156108565780518252602082019150602081019050602083039250610831565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902091505b73ca29fd2e878fc7845e7248ff8f27077c932918f0638428cf83838888886040518563ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018085600019166000191681526020018460ff1660ff1681526020018360001916600019168152602001826000191660001916815260200194505050505060206040518083038186803b15801561092757600080fd5b505af415801561093b573d6000803e3d6000fd5b505050506040513d602081101561095157600080fd5b810190808051906020019092919050505090508873ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16149250505096955050505050505600a165627a7a72305820c29328b53b3d05676051857320759cc1a935d257198152b6a73f5182937fd8a00029"
}